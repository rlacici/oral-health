<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ëœë¤ êµ¬ê°•ê±´ê°• ë©”ì‹œì§€</title>
  <link href="https://cdn.jsdelivr.net/npm/font-gmarket@1.0.1/style.css" rel="stylesheet">

  <style>
    
    img.uniform {
  max-width: 90%;
  max-height: 450px;
  width: auto;
  height: auto;
  object-fit: contain;
  display: block;
  margin:100px auto 0 auto;
}

    body {
  font-family: 'Gmarket Sans', sans-serif;
}

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      background-color: #f9f9f9;
      font-family: 'Arial', sans-serif;
      text-align: center;
    }

    h1 {
      font-size: 18px;
      margin: 0;
      padding: 12px;
      color: #004080;
    }

    .icon {
      font-size: 24px;
      margin-right: 6px;
    }

    .title-text {
      color: #009ec1;
      font-weight: bold;
    }

img {
  width: 100%;
  max-height: 80vh;
  object-fit: contain;
  border-radius: 12px;
  margin-top: 50px;
}

    @keyframes blinkTwice {
      0%, 100% { opacity: 1; }
      20%, 60% { opacity: 0; }
      40%, 80% { opacity: 1; }
    }

    #badgeMessage {
      position: absolute;
      top: 130px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #fff5d1;
      border: 2px solid #ffc107;
      padding: 10px 60px;
      border-radius: 12px;
      font-size: 20px;
      font-weight: bold;
      color: #333;
      z-index: 1000;
      box-shadow: 2px 2px 8px rgba(0,0,0,0.2);
      max-width: 90%;
      white-space: nowrap;
      display: none;
      animation-iteration-count: 1;
    }
    
    .bigBadge {
  font-size: 26px;
  padding: 20px 80px;
  border: 4px solid #ff9800;
  background-color: #fff3e0;
}


  
    .bigBadge {
      font-size: 26px;
      padding: 20px 80px;
      border: 4px solid #ff9800;
      background-color: #fff3e0;
    }
    
  .watermark-wrap {
    position: fixed;
    bottom: 10px;
    right: 10px;
    display: flex;
    align-items: center;
    opacity: 0.4;
    pointer-events: none;
    z-index: 9999;
  }

  .watermark-logo {
    width: 40px;
    margin-right: 5px;
  }

  .watermark-text {
    font-size: 10px;
    color: #555;
  }

#watermark {
  z-index: 9999;
}

</style>

  
</head>
<body>
  <h1>
    <span class="icon">ğŸ¦·</span>
    <span class="title-text">[ë¯¸ì¶”í™€êµ¬ë³´ê±´ì†Œ]êµ¬ê°•ê±´ê°• ë©”ì‹œì§€</span>
    <span class="icon">ğŸ¦·</span>
  </h1>
  <p id="visitCountText" style="font-weight: bold; font-size: 18px; color: #555;"></p>
  <script>
  const count = localStorage.getItem("visitCount") || "0";
  document.getElementById("visitCountText").textContent =
    `ì§€ê¸ˆê¹Œì§€ ${count}ë²ˆ íƒœê·¸í–ˆì–´ìš”! ğŸ‰`;

    function sendAnonymousStats(image) {
      const fileId = image.url.split("/").pop().split(".")[0];
      const nameWithId = `${image.name} [${fileId}]`;
      const today = new Date().toISOString().split("T")[0]; // ë‚ ì§œë§Œ ì¶”ì¶œ
      const scriptURL = "https://script.google.com/macros/s/AKfycbwOKw7C1eYxnJQvi-2Z1I0xCX8tW2nQhJ74ORxAH8udsmS-uOf7bfJlTeHklSMv7RcEcA/exec";
      const fullURL = `${scriptURL}?imageId=${encodeURIComponent(nameWithId)}&date=${encodeURIComponent(today)}`;

      fetch(fullURL)
        .then(response => {
          if (response.ok) {
            console.log("âœ… ìµëª… í†µê³„ ì „ì†¡ ì„±ê³µ:", nameWithId);
          } else {
            console.error("âŒ ìµëª… í†µê³„ ì „ì†¡ ì‹¤íŒ¨");
          }
        })
        .catch(error => {
          console.error("âŒ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜", error);
        });
    }
    
    function showBadgeMessage(message, isBig = false) {
  const badgeEl = document.getElementById("badgeMessage");
  badgeEl.textContent = message;
  badgeEl.style.display = "block";
  badgeEl.style.animation = "blinkTwice 3s ease";

  // í¬ê¸° ì¡°ì •
  if (isBig) {
    badgeEl.classList.add("bigBadge");
  } else {
    badgeEl.classList.remove("bigBadge");
  }

  setTimeout(() => {
    badgeEl.style.display = "none";
    badgeEl.style.animation = "";
  }, 3000);
}

// ë°©ë¬¸ ì¹´ìš´íŠ¸ ì²˜ë¦¬
let count = parseInt(localStorage.getItem("visitCount") || "0") + 1;
localStorage.setItem("visitCount", count);

}

  </script>


  <div id="badgeMessage"></div>

  <div id="imageContainer">
    <p>ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
  </div>

  <script>
    
    const images = [
      { url: "https://i.imgur.com/9BExF6D.jpg", weight: 6, name: "ì¹˜ì•½ë§Œ ìˆëŠ” ê·¸ë¦¼(1,450ppm)" },
      { url: "https://i.imgur.com/kGL6Rm8.jpg", weight: 6, name: "í˜€ë‚´ë°€ê³  í˜€í´ë¦¬ë„ˆë¡œ ì„¸ê· ë‹¦ì•„ë‚´ê¸°" },
      { url: "https://i.imgur.com/LZ0CFlR.jpg", weight: 6, name: "ê³ ë¶ˆì†Œê°€ ì •ë‹µ" },
      { url: "https://i.imgur.com/U2phf8z.jpg", weight: 6, name: "ì¹«ì†” 3ê°œì›” êµì²´" },
      { url: "https://i.imgur.com/CgytXI1.jpg", weight: 6, name: "ì¹˜ë£Œë³´ë‹¨ ì •ê¸°ì ì¸ êµ¬ê°•ê²€ì§„" },
      { url: "https://i.imgur.com/R8I8SVL.jpg", weight: 6, name: "ì‡ëª¸ì—ì„œ í”¼ê°€ ë‚˜ë©´ ë°”ë¡œ ì¹˜ê³¼ì— ê°€ìš”" },
      { url: "https://i.imgur.com/b5cfDqq.jpg", weight: 3, name: "ë‹¬ì½¤í•˜ê²Œ ì¦ê¸°ê³  ì‹¶ë‹¤ë©´, ìì¼ë¦¬í†¨" },
      { url: "https://i.imgur.com/JXAb6J1.jpg", weight: 3, name: "ì ìê¸° ì „ ì–‘ì¹˜" },
      { url: "https://i.imgur.com/7zaqDSV.jpg", weight: 3, name: "ê±´ê°•í•œ ì¹˜ì•„ëŠ” í‰ìƒì„ í•¨ê»˜" },
      { url: "https://i.imgur.com/ScqFB4I.jpg", weight: 3, name: "ìˆ¨ì‰¬ëŠ” ê²ƒë„ í™í•˜ê²Œ" },
      { url: "https://i.imgur.com/dbQ3Kc3.jpg", weight: 3, name: "ì¹«ì†”ì§ˆì˜ ë§ˆì§€ë§‰ì€ í˜€ë‹¦ê¸°" },
      { url: "https://i.imgur.com/ZNAwF4x.jpg", weight: 6, name: "í–¥ê¸°ë‚˜ëŠ” ë‚´ê°€ì¢‹ë‹¤" },
      { url: "https://i.imgur.com/l4cjFsZ.jpg", weight: 6, name: "ì–‘ì¹˜, ê·€ì°®ì€ê²Œ ì•„ë‹ˆë¼ ë‹¹ì—°í•œê±°" },
      { url: "https://i.imgur.com/W9WWHx6.jpg", weight: 6, name: "ë¶ˆì†Œì¹˜ì•½ ì°í…œ" },
      { url: "https://i.imgur.com/uDk7raM.jpg", weight: 6, name: "ì–‘ì¹˜ìŠ¤í‚µ" },
      { url: "https://i.imgur.com/8wSONpD.jpg", weight: 6, name: "ì¹˜ì‹¤ í´ë¦° ì—…ê·¸ë ˆì´ë“œ" },
      { url: "https://i.imgur.com/6R47ZPA.jpg", weight: 6, name: "ì‡ëª¸ ì¶œí˜ˆ ì‹œ ì‹ í˜¸ ì¹˜ê³¼ GO" },
      { url: "https://i.imgur.com/lAqSDUb.jpg", weight: 3, name: "ë¬¼ì„ ìì£¼ ë§ˆì‹œê¸°" },
      { url: "https://i.imgur.com/39NLXvJ.jpg", weight: 3, name: "ì¹˜ì‹¤ì€ ì¹˜ì•„ì‚¬ì´ ì²­ì†Œê¸°" },
      { url: "https://i.imgur.com/SzJE3em.jpg", weight: 3, name: "ìˆ¨ì‰´ ë•Œ í‹°ë‚œë‹¤" },
      { url: "https://i.imgur.com/NzhNN3l.jpg", weight: 3, name: "ë‹¬ì½¤í•œ ê°„ì‹ì€ ì´ì œê·¸ë§Œ" },
      { url: "https://i.imgur.com/YZqBzYB.jpg", weight: 3, name: "ê±°ìš¸ë³´ë©° ê¼¼ê³°í•˜ê²Œ" },
      { url: "https://i.imgur.com/Y8EXRH4.jpg", weight: 3, name: "ë‚´ ì…ì† ê±´ê°•ì§€í‚´ì´" },
      { url: "https://i.imgur.com/nqYIPcl.jpg", weight: 3, name: "ì„¸ê· íŒŒí‹°" },
      { url: "https://i.imgur.com/VD7OXyD.jpg", weight: 6, name: "ì–‘ì¹˜ëŠ” íƒ€ì´ë°" },
    ];


    function weightedRandom(images) {
  const totalWeight = images.reduce((sum, img) => sum + img.weight, 0);
  const rand = Math.random() * totalWeight;
  let cumulative = 0;
  for (const img of images) {
    cumulative += img.weight;
    if (rand < cumulative) return img;
  }
}


    function getUserUUID() {
      let uuid = localStorage.getItem("userUUID");
      if (!uuid) {
        uuid = crypto.randomUUID();
        localStorage.setItem("userUUID", uuid);
      }
      return uuid;
    }

    function sendVisitLog(image) {
      const uuid = getUserUUID();
      const fileId = image.url.split("/").pop().split(".")[0];
      const nameWithId = `${image.name} [${fileId}]`;
      const scriptURL = "https://script.google.com/macros/s/AKfycby9yb7Bm-9nLfEpPpDDD-kF8CnU0Mtkw4ehxEdRn4mHKJ_wzrvf1ws8lkMzj8RTG_Ly_Q/exec";
      const fullURL = `${scriptURL}?uuid=${encodeURIComponent(uuid)}&imageId=${encodeURIComponent(nameWithId)}`;

      fetch(fullURL)
        .then(() => {
          let count = parseInt(localStorage.getItem("visitCount") || "0") + 1;
          localStorage.setItem("visitCount", count);
        document.getElementById("visitCountText").textContent =
  `ì§€ê¸ˆê¹Œì§€ ${count}ë²ˆ íƒœê·¸í–ˆì–´ìš”! ğŸ‰`;
          setTimeout(() => checkBadgeAndShow(count), 10);
        });
    }

    function checkBadgeAndShow(count) {
      let message = "";
      if (count === 1) message = "ğŸ‘£ ì²«ê±¸ìŒ ë±ƒì§€! ì‹œì‘ì´ ë°˜ì´ì—ìš”!";
      else if (count === 3) message = "ğŸ”„ ìŠµê´€ ë£¨í‹´ ë±ƒì§€ íšë“!";
      else if (count === 5) message = "ğŸª¥ ì–‘ì¹˜ ë§ˆìŠ¤í„° ì…ë¬¸!";
      else if (count === 7) message = "ğŸ›¡ï¸ ì¶©ì¹˜ ë°©ì–´ë ¥ +1!";
      else if (count === 10) message = "ğŸ‰ 10íšŒ íƒœê·¸ ë±ƒì§€ íšë“!";
      else if (count === 12) message = "ğŸ’ª ê±´ê°• ìŠµê´€ ê¾¸ì¤€íˆ!";
      else if (count === 15) message = "ğŸ§  ì§€ì‹ ì‘¥ì‘¥ ë±ƒì§€!";
      else if (count === 17) message = "ğŸ¨ êµ¬ê°•ê±´ê°• ì •ë³µ ì¤‘!";
      else if (count === 20) message = "ğŸ† 20íšŒ ì´ìƒ! êµ¬ê°•ê±´ê°• ì±”í”¼ì–¸!";
      else if (count === 22) message = "ğŸ§¼ ì¹˜ì•„ ë¯¸ë‚¨ë¯¸ë…€ ë“±ê·¹!";
      else if (count === 25) message = "ğŸ’ 25íšŒ íƒœê·¸ë‹¬ì„±! êµ¬ê°• ë§ˆìŠ¤í„°!";
      else if (count === 27) message = "ğŸ§š ê¹¨ë—ìš”ì • ê°•ë¦¼";
      else if (count === 30) message = "ğŸŒŸ 30íšŒ ëŒíŒŒ! ê³„ì†í•´ì„œ íƒœê·¸í•´ë³´ì!";
      else if (count === 33) message = "ğŸ§¬ ì„¸ê· ì„ ë¬¼ë¦¬ì¹˜ëŠ” ì!";
      else if (count === 35) message = "ğŸ¦¸ êµ¬ê°•ì§€í‚´ì´ íˆì–´ë¡œ!";
      else if (count === 40) message = "ğŸ˜ 40ë²ˆì´ë‚˜ íƒœê·¸í–ˆì–´ìš”!";
      else if (count === 45) message = "ğŸ“š êµ¬ê°•ê±´ê°• ì§€ì‹ì™• ë“±ê·¹!";
      else if (count === 50) message = "ğŸ¯ ì§€ê¸ˆê¹Œì§€ ëª‡ê°œì˜ ì´ë¯¸ì§€ë¥¼ ë³´ì•˜ë‚˜ìš”?";
      else if (count === 55) message = "ğŸª„ ë„ˆì˜ ê±´ê°• ë£¨í‹´ ì™„ì„±!";
      else if (count === 60) message = "ğŸ… ì¶©ì¹˜ì‚¬ëƒ¥ê¾¼ ë±ƒì§€!";
      else if (count === 65) message = "ğŸŒ± ì‘ì€ ìŠµê´€ì´ í° ë³€í™”ë¥¼ ë§Œë“¤ì–´ìš”!";
      else if (count === 70) message = "ğŸš¿ ì…ëƒ„ìƒˆ ê±±ì • ë~ ë±ƒì§€!";
      else if (count === 80) message = "ğŸ“ˆ ê±´ê°• ê·¸ë˜í”„ê°€ ì˜¬ë¼ê°€ìš”!";
      else if (count === 85) message = "ğŸ› ì…ì† ì²­ì†Œì™• ë“±ê·¹!";
      else if (count === 90) message = "ğŸ“… ë§¤ì¼ì˜ ì‹¤ì²œ, ë‚˜ë¥¼ ë°”ê¿”ìš”!";
      else if (count === 95) message = "ğŸª ê±°ìš¸ ì† ë‹¹ì‹ , ë” ë°˜ì§ì—¬ìš”!";
      else if (count === 100) message = "ğŸ§™ êµ¬ê°• ë§ˆë²•ì‚¬ ë“±ê·¹!";
      else if (count === 110) message = "ğŸŒŒ ê¶ê·¹ì˜ ì¹˜ì•„ ìš°ì£¼ì§€ë°°ì!";  
      else if (count === 120) message = "ğŸ¦· ê¶ê·¹ì˜ ì¹˜ì•„ ìˆ˜í˜¸ì!";  
      else if (count === 121) message = "ğŸ í€´ì¦ˆì˜ ì •ë‹µì€ 25ê°œì…ë‹ˆë‹¤!"; 
      else if (count === 122) message = "ğŸ í€´ì¦ˆì˜ ì •ë‹µì€ 25ê°œì…ë‹ˆë‹¤!"; 
      else if (count === 123) message = "ğŸ í€´ì¦ˆì˜ ì •ë‹µì€ 25ê°œì…ë‹ˆë‹¤!"; 
      else if (count === 123) message = "ğŸ ì •ë‹µì„ ê¼­ ì œì¶œí•´ì£¼ì„¸ìš”!";   
      if (message) showBadgeMessage(message);
    }

    function showBadgeMessage(message) {
      const badgeEl = document.getElementById("badgeMessage");
      badgeEl.textContent = message;
      badgeEl.style.display = "block";
      badgeEl.style.animation = "blinkTwice 4s ease";
      setTimeout(() => {
        badgeEl.style.display = "none";
        badgeEl.style.animation = "";
      }, 5000);
    }

    const selectedImage = weightedRandom(images);
    // í€´ì¦ˆ ì´ë¯¸ì§€ëŠ” ìµëª… í†µê³„ì— ê¸°ë¡í•˜ì§€ ì•ŠìŒ
if (selectedImage.name !== "í€´ì¦ˆ ì°¸ì—¬ ìœ ë„") {
sendAnonymousStats(selectedImage);
}

    
    const container = document.getElementById("imageContainer");
    container.innerHTML = `<img src="${selectedImage.url}" alt="êµ¬ê°•ê±´ê°• ì´ë¯¸ì§€" class="uniform">`;

    sendVisitLog(selectedImage);
      
    function sendAnonymousStats(image) {
      const fileId = image.url.split("/").pop().split(".")[0];
      const nameWithId = `${image.name} [${fileId}]`;
      const today = new Date().toISOString().split("T")[0]; // ë‚ ì§œë§Œ ì¶”ì¶œ
      const scriptURL = "https://script.google.com/macros/s/AKfycbyWgIsOr573dAJgePzSVBkrEA71jFPa8JqQu0Q1fJm8pP5gJhnEFIzJYISjOapav5Fz3A/exec";
      const fullURL = `${scriptURL}?imageId=${encodeURIComponent(fileId)}&imageName=${encodeURIComponent(image.name)}`;
      
      fetch(fullURL)
        .then(response => {
          if (response.ok) {
            console.log("âœ… ìµëª… í†µê³„ ì „ì†¡ ì„±ê³µ:", nameWithId);
          } else {
            console.error("âŒ ìµëª… í†µê³„ ì „ì†¡ ì‹¤íŒ¨");
          }
        })
        .catch(error => {
          console.error("âŒ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜", error);
        });
    }


  </script>

  <div id="badgeMessage"></div>
  <script>
    function showBadgeMessage(message, isBig = false) {
      const badgeEl = document.getElementById("badgeMessage");
      badgeEl.textContent = message;
      badgeEl.style.display = "block";
      badgeEl.style.animation = "blinkTwice 3s ease";

      if (isBig) {
        badgeEl.classList.add("bigBadge");
      } else {
        badgeEl.classList.remove("bigBadge");
      }

      setTimeout(() => {
        badgeEl.style.display = "none";
        badgeEl.style.animation = "";
      }, 3000);
    }


  </script>

  <div class="watermark-wrap">
    <img src="https://imgur.com/I494bHk.png" class="watermark-logo" alt="ë³´ê±´ì†Œ ë¡œê³ ">
    <span class="watermark-text">ë¯¸ì¶”í™€êµ¬ë³´ê±´ì†Œ</span>
  </div>
</body>


</html>